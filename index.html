<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/iconfont.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>MyFreeMusicPlayer</title>
</head>
<body>
    <!-- 页面内容 -->
    <div id="musicPlayer">
        <!-- 音乐列表 -->
        <div id="musicList">
            <ul>
                <li class="active" data-src="audio/i walk this earth all by myself.mp3">i walk this earth all by myself</li>
				<li data-src="">test</li>
				
            </ul>
        </div>
    </div>

	<!-- 播放控制区域 -->
	<div id="controlsContainer">
		<span id="prevButton" class="iconfont icon-shangyishou"></span>
		<span id="playPauseButton" class="iconfont icon-bofang"></span>
		<span id="nextButton" class="iconfont icon-xiayishou"></span>
		<span id="repeatButton" class="iconfont icon-duoxunhuan"></span>
		<div class="volumeButton" id="volumeButton"> <!-- 音量调节按钮 -->
			<span id="volumeIcon" class="iconfont icon-24gf-volumeHigh"></span> <!-- 音量图标 -->
			<input type="range" id="volumeBar" value="100" min="0" max="100" orient="vertical"> <!-- 音量调节条 -->
		</div>
		<span id="musicInfo"></span> <!-- 添加用于显示音乐信息的容器 -->
		<span id="collapseButton" class="iconfont icon-xiangxia"></span> <!-- 收纳按钮 -->
		<input type="range" id="progressBar" value="0" min="0" max="100">
	</div>

	<script src="js/player.js"></script>
    <script type="text/javascript">
		// 获取收纳按钮和控制区域元素
		var collapseButton = document.getElementById('collapseButton');
		var controlsContainer = document.getElementById('controlsContainer');
		var controlElements = document.querySelectorAll('#controlsContainer > *:not(#collapseButton)');

		// 定义控制区域的收纳状态，默认为展开状态
		var isCollapsed = false;

		// 点击收纳按钮的事件处理函数
		collapseButton.addEventListener('click', function() {
			// 切换收纳状态
			isCollapsed = !isCollapsed;

			if (isCollapsed) {
				// 如果是收起状态，隐藏控制区域的子元素
				controlElements.forEach(function(element) {
					element.style.display = 'none';
					element.style.width = collapseButton.offsetWidth + 'px';
				});
				collapseButton.classList.remove('icon-xiangxia'); // 切换按钮图标为展开图标
				collapseButton.classList.add('icon-xiangshang');
			} else {
				// 如果是展开状态，显示控制区域的子元素
				controlElements.forEach(function(element) {
					element.style.display = 'initial';
					element.style.width = '90%';
				});
				collapseButton.classList.remove('icon-xiangshang'); // 切换按钮图标为收起图标
				collapseButton.classList.add('icon-xiangxia');
			}
		});

        document.addEventListener('plusready', function(){
            // 在此事件中可以调用 Plus API
        });
    </script>
</body>
</html>
