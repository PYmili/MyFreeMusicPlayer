<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/iconfont.css">
    <!-- 引入 Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	<link href="css/tailwind.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>MyFreeMusicPlayer</title>
</head>
<body>
    <!-- 用户头像 -->
    <div id="userAvatar" class="user-avatar">
        <img src="img/icon.png" alt="User Avatar">
    </div>
    
    <!-- 弹出菜单容器 -->
    <div id="menuContainer" class="menu-container">
        <ul>
            <li><i class="fas fa-cog"></i> 设置</li>
			<a href="login.html"><li><i class="fas fa-sign-in-alt"></i> 登录</li></a>
			<li><i class="fas fa-info-circle"></i> 关于</li>
			<a href="search_music.html"><li><i class="fas fa-search"></i> 搜索音乐</li></a>
			<li id="switchingSchemeButton"><i class="fas fa-adjust"></i> 切换播放布局</li>
        </ul>
    </div>
    <!-- 页面内容 -->
    <div id="musicPlayer">
        <!-- 音乐列表 -->
        <div id="musicList">
            <ul>
                <li class="active" data-src="">NULL</li>
            </ul>
        </div>
    </div>
	
    <!-- 播放控制区域方案一 -->
    <div id="controlsContainer">
        <div id="music_img_info">
          <img src="img/icon.png" alt="专辑封面" id="coverImage">
          <p id="musicInfo"></p>
		  <!-- 使用 Font Awesome 图标作为收纳按钮 -->
		  <span id="collapseButton" class="fas fa-chevron-up"></span>
        </div>
        <span id="prevButton" class="iconfont icon-shangyishou" style="margin-right: 20px;"></span>
        <span id="playPauseButton" class="iconfont icon-bofang" style="margin-right: 20px;"></span>
        <span id="nextButton" class="iconfont icon-xiayishou" style="margin-right: 20px;"></span>
        <span id="repeatButton" class="iconfont icon-duoxunhuan" style="margin-right: 20px;"></span>
        <div class="volumeButton" id="volumeButton"> <!-- 音量调节按钮 -->
            <span id="volumeIcon" class="iconfont icon-24gf-volumeHigh"></span> <!-- 音量图标 -->
            <input type="range" id="volumeBar" value="100" min="0" max="100" orient="vertical"> <!-- 音量调节条 -->
        </div>
        <input type="range" id="progressBar" value="0" min="0" max="100">
    </div>
	
	<!-- 播放区域方案二 -->
	<div id="option_two" class="dark:bg-zinc-800 p-4 rounded-lg shadow-md max-w-md mx-auto">
	    <div class="flex justify-between items-center mb-4">
	        <img src="https://placehold.co/60x60" alt="Music cover" class="rounded-full">
	        <div class="flex-grow ml-4">
	            <p class="text-zinc-900 dark:text-white font-semibold">Song Title</p>
	            <p class="text-zinc-600 dark:text-zinc-400 text-sm">Artist Name</p>
	        </div>
	        <button id="togglePlayer" class="text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300">
	            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
	                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h12M6 12h12m-12 6h12" />
	            </svg>
	        </button>
	    </div>
	    <div id="playerControls" class="space-y-2">
	        <input type="range" value="0" class="w-full h-2 bg-zinc-200 rounded-lg appearance-none cursor-pointer dark:bg-zinc-700">
	        <div class="flex justify-between items-center">
	            <button class="text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 iconfont icon-shangyishou"></button>
	            <button class="text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 iconfont icon-bofang"></button>
	            <button class="text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 iconfont icon-xiayishou"></button>
	        </div>
	        <div class="flex justify-between items-center">
	            <button class="text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 iconfont icon-24gf-volumeHigh"></button>
	            <input type="range" value="50" class="w-1/2 h-2 bg-zinc-200 rounded-lg appearance-none cursor-pointer dark:bg-zinc-700">
	        </div>
	    </div>
	</div>
    
    <script src="js/music_list.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/player.js"></script>
    <script type="text/javascript">
        // 定义控制区域的收纳状态，默认为展开状态
        var isCollapsed = false;
    
        // 获取收纳按钮和控制区域元素
        var collapseButton = document.getElementById('collapseButton');
        var controlsContainer = document.getElementById('controlsContainer');
		var music_img_info = document.getElementById("music_img_info");
		var music_img_info_sytle = "display: flex; align-items: center; padding: 10px; gap: 10px;";
		music_img_info.style = music_img_info_sytle;
        var controlElements = document.querySelectorAll('#controlsContainer > *:not(#collapseButton)');
    
        // 点击收纳按钮的事件处理函数
        collapseButton.addEventListener('click', function() {
            // 切换收纳状态
            isCollapsed = !isCollapsed;
    
            if (isCollapsed) {
                // 如果是收起状态，隐藏控制区域的子元素
                controlElements.forEach(function(element) {
                    element.style.display = 'none';
                    element.style.width = collapseButton.offsetWidth + 'px';
                });
				music_img_info.style = music_img_info_sytle;
                collapseButton.classList.remove('fa-chevron-up'); // 切换按钮图标为展开图标
                collapseButton.classList.add('fa-chevron-down');
            } else {
                // 如果是展开状态，显示控制区域的子元素
                controlElements.forEach(function(element) {
                    element.style.display = 'initial';
                    element.style.width = '90%';
                });
				music_img_info.style = music_img_info_sytle;
                collapseButton.classList.remove('fa-chevron-down'); // 切换按钮图标为收起图标
                collapseButton.classList.add('fa-chevron-up');
            }
        });
		
		var option_two = document.getElementById("option_two");
		
		// 方案二收纳
		document.getElementById('togglePlayer').addEventListener('click', () => {
		    const playerControls = document.getElementById('playerControls');
		    playerControls.style.display = playerControls.style.display === 'none' ? 'block' : 'none';
		});
		
		// 切换方案
		var switchingSchemeButton = document.getElementById("switchingSchemeButton");
		var option_id = 0;
		switchingSchemeButton.addEventListener('click', function() {
			if (option_id === 0) {
				console.log("切换布局： 1");
				controlsContainer.style.display = 'none';
				option_two.style.display = 'block';
				option_id = 1;
			} else if (option_id === 1) {
				console.log("切换布局： 0");
				option_two.style.display = 'none';
				controlsContainer.style.display = 'initial';
				option_id = 0;
			}
		})
    
        document.addEventListener('plusready', function(){
            // 在此事件中可以调用 Plus API
        });
    </script>
</body>
</html>
